<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <title>Convert a BPC skeleton XSLT stylesheet into one supporting code list data.</title><link rel="stylesheet" href="xslstyle.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.74.0"><style type="text/css">
  /* put internal CSS styles here */

</style></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d8e1"></a>
    Convert a BPC skeleton XSLT stylesheet into one supporting code list data.
  </h2></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#d4e2">1. 
    Convert a BPC skeleton XSLT stylesheet into one supporting code list data.
   - bpccodelists2xsl.xsl</a></span></dt><dd><dl><dt><span class="section"><a href="#d4e15">1.1. Invocation parameters and input file</a></span></dt><dt><span class="section"><a href="#d4e64">1.2. Main logic</a></span></dt><dt><span class="section"><a href="#d4e213">1.3. Generic matching</a></span></dt></dl></dd><dt><span class="section"><a href="#index_">2. Index</a></span></dt></dl></div><p class="xsl-subtitle-invocation"><span class="bold"><strong>
      Available invocation parameters
        ('**' indicates a required parameter)
      </strong></span></p><div class="itemizedlist"><ul type="disc" compact><li><span class="xsl-input-parameter-link"><a class="link" href="#d4e36"><span class="xsl-input-parameter-name"><code class="literal">BPCversion</code></span> **  (<span class="xsl-input-parameter-module-title">
    Convert a BPC skeleton XSLT stylesheet into one supporting code list data.
  </span> - <span class="xsl-input-parameter-module-name"><code class="literal">bpccodelists2xsl.xsl</code></span>)</a></span></li><li><span class="xsl-input-parameter-link"><a class="link" href="#d4e44"><span class="xsl-input-parameter-name"><code class="literal">dateTime</code></span> **  (<span class="xsl-input-parameter-module-title">
    Convert a BPC skeleton XSLT stylesheet into one supporting code list data.
  </span> - <span class="xsl-input-parameter-module-name"><code class="literal">bpccodelists2xsl.xsl</code></span>)</a></span></li></ul></div><p class="xsl-subtitle-specialization"><span class="bold"><strong>
   Available specialization parameter</strong></span></p><div class="itemizedlist"><ul type="disc" compact><li><span class="xsl-input-parameter-link"><a class="link" href="#d4e60"><span class="xsl-input-parameter-name"><code class="literal">bpc:lists</code></span> (<span class="xsl-input-parameter-module-title">
    Convert a BPC skeleton XSLT stylesheet into one supporting code list data.
  </span> - <span class="xsl-input-parameter-module-name"><code class="literal">bpccodelists2xsl.xsl</code></span>)</a></span></li></ul></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d4e2"></a>1.&nbsp;
    Convert a BPC skeleton XSLT stylesheet into one supporting code list data.
   - <code class="literal">bpccodelists2xsl.xsl</code></h2></div></div></div><p class="xsl-subtitle-filename">
              Filename: <code class="literal">bpccodelists2xsl.xsl</code></p><div class="literallayout"><p><code class="literal">$Id$</code></p></div><p>
    This presumes that the skeleton has references to ISO-3166 (Country Codes)
    and for each place found, replaces the given instruction with multiple
    copies of the instruction, one for each of the code lists found in the
    "raw/codelists" directory.
  </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d4e15"></a>1.1.&nbsp;Invocation parameters and input file</h3></div></div></div><p>
    The input file is the image of the output file with a placeholder
    for the data for the code list code to act on.
  </p><p>
    Comments and text get both the process identifier and the version.
  </p><p>
    Attributes and filenames are replaced with only the process identifier.
  </p><p class="xsl-param xsl-top-level"><a name="d4e36"></a><code class="literal"><span class="bold xsl-block-name">BPCversion</span> <span class="bold xsl-block-other">required="yes"</span> <span class="bold xsl-block-other">as="xsd:string"</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:param)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-param"><p>
    The version number not including a preceding "v".
  </p></span></blockquote></div><p class="xsl-param xsl-top-level"><a name="d4e44"></a><code class="literal"><span class="bold xsl-block-name">dateTime</span> <span class="bold xsl-block-other">required="yes"</span> <span class="bold xsl-block-other">as="xsd:string"</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:param)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-param"><p>
    The date and time stamp to distinguish releases of a particular version.
  </p></span></blockquote></div><p class="xsl-output xsl-top-level"><a name="d4e52"></a><code class="literal"> <span class="bold xsl-block-other">indent="yes"</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:output)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-output"><p>For the convenience of human readers, the outputs are indented</p></span></blockquote></div><p class="xsl-variable xsl-top-level"><a name="d4e60"></a><code class="literal"><span class="bold xsl-block-name">bpc:lists</span> <span class="bold xsl-block-other">as="document-node()*"</span> <span class="bold xsl-block-other">select="collection('raw/codelists/?select=*.gc')"</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:variable)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-variable"><p>
    Collect the list of code lists by reviewing the directory.
  </p></span></blockquote></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d4e64"></a>1.2.&nbsp;Main logic</h3></div></div></div><p>
    Note that the match strings are based on the expected values found in
    the skeleton file. Wherever there is a reference to ISO-3166, the
    element is repeated for all code lists.
  </p><p class="xsl-template xsl-top-level"><a name="d4e79"></a><code class="literal"> <span class="bold xsl-block-match">match="xsl:when[contains(@test,'ISO-3166')]"</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:template)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-template"><p>Looking up the list</p></span></blockquote></div><p class="xsl-template xsl-top-level"><a name="d4e125"></a><code class="literal"> <span class="bold xsl-block-match">match="codeList"</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:template)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-template"><p>Declaring the list metadata</p></span></blockquote></div><p class="xsl-template xsl-top-level"><a name="d4e158"></a><code class="literal"> <span class="bold xsl-block-match">match="xsl:variable[contains(@name,'ISO-3166')]"</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:template)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-template"><p>Declaring the list codes</p></span></blockquote></div><p class="xsl-function xsl-top-level"><a name="d4e204"></a><code class="literal"><span class="bold xsl-block-name">bpc:listId</span><span class="xsl-block-function-param">(1)</span> <span class="bold xsl-block-other">as="xsd:string"</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:function)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-function"><p>
    Distill the list name from the filename being all text before the first
    dot in the filename.
  </p><p class="xsl-template-parameter">Parameter <code class="literal"><span class="bold xsl-template-parameter-name">doc</span> <span class="bold xsl-template-parameter-attributes">as="document-node()"</span></code></p><div class="blockquote"><blockquote class="blockquote"><p>
      The document node returned from the collection function searching
      all of the genericode files.
    </p></blockquote></div></span></blockquote></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d4e213"></a>1.3.&nbsp;Generic matching</h3></div></div></div><p class="xsl-template xsl-top-level"><a name="d4e225"></a><code class="literal"> <span class="bold xsl-block-match">match="text()"</span> <span class="bold xsl-block-other">priority="1"</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:template)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-template"><p>
    Replace in text the {bpc:*} strings with the process information.
  </p></span></blockquote></div><p class="xsl-template xsl-top-level"><a name="d4e236"></a><code class="literal"> <span class="bold xsl-block-match">match="comment()"</span> <span class="bold xsl-block-other">priority="1"</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:template)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-template"><p>
    Replace in comments the {bpc:*} strings with the process information.
  </p></span></blockquote></div><p class="xsl-template xsl-top-level"><a name="d4e250"></a><code class="literal"> <span class="bold xsl-block-match">match="@*"</span> <span class="bold xsl-block-other">priority="1"</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:template)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-template"><p>
    Replace in attributes the {bpc:*} strings with the process information.
  </p></span></blockquote></div><p class="xsl-template xsl-top-level"><a name="d4e268"></a><code class="literal"><span class="bold xsl-block-name">bpc:formatCustomizationInfo</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:template)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-template"><p>
    Replace the {bpc:customization} strings with the process information.
  </p><div class="itemizedlist"><ul type="disc"><li>bpc:title - formatted string of version and dateTime</li></ul></div></span></blockquote></div><p class="xsl-function xsl-top-level"><a name="d4e291"></a><code class="literal"><span class="bold xsl-block-name">bpc:formatCustomizationInfo</span><span class="xsl-block-function-param">(1)</span> <span class="bold xsl-block-other">as="xsd:string"</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:function)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-function"><p>
    Return the {bpc:customization} strings replaced with the process information.
  </p><div class="itemizedlist"><ul type="disc"><li>bpc:version - #.#</li><li>bpc:title - formatted string of version and dateTime</li></ul></div><p class="xsl-template-parameter">Parameter <code class="literal"><span class="bold xsl-template-parameter-name">template</span> <span class="bold xsl-template-parameter-attributes">as="xsd:string"</span></code></p><div class="blockquote"><blockquote class="blockquote"><p>The string input to the translation</p></blockquote></div></span></blockquote></div><p class="xsl-template xsl-top-level"><a name="d4e304"></a><code class="literal"> <span class="bold xsl-block-match">match="@*|node()"</span> <span class="bold xsl-block-other">mode="#all"</span><span class="emphasis"><em><span class="xsl-block-type"> (xsl:template)</span></em></span></code></p><div class="blockquote"><blockquote class="blockquote"><span class="xsl-detail-template"><p>
    The identity template is used to copy all nodes not already being handled
    by other template rules.
  </p></span></blockquote></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="index_"></a>2.&nbsp;Index</h2></div></div></div><p><a class="link" href="#index-B"><span class="bold xsl-index-letter-title">B</span></a> <a class="link" href="#index-D"><span class="bold xsl-index-letter-title">D</span></a> <a class="link" href="#index-F"><span class="bold xsl-index-letter-title">F</span></a> <a class="link" href="#index-L"><span class="bold xsl-index-letter-title">L</span></a> </p><p><a name="index-B"></a><span class="bold xsl-index-letter-section">B</span></p><div class="itemizedlist"><ul type="disc" compact><li><span class="xsl-index-entry-link"><a class="link" href="#d4e36"><span class="xsl-index-top-level xsl-param"><span class="xsl-index-entry-name"><code class="literal">BPCversion</code></span></span></a> (<span class="xsl-index-entry-module-title"><a class="link" href="#d4e15" title="1.1.&nbsp;Invocation parameters and input file">Invocation parameters and input file</a></span> - <span class="xsl-index-entry-module-name"><a class="link" href="#d4e2" title="1.&nbsp; Convert a BPC skeleton XSLT stylesheet into one supporting code list data. - bpccodelists2xsl.xsl"><code class="literal">bpccodelists2xsl.xsl</code></a></span>)</span></li></ul></div><p><a name="index-D"></a><span class="bold xsl-index-letter-section">D</span></p><div class="itemizedlist"><ul type="disc" compact><li><span class="xsl-index-entry-link"><a class="link" href="#d4e44"><span class="xsl-index-top-level xsl-param"><span class="xsl-index-entry-name"><code class="literal">dateTime</code></span></span></a> (<span class="xsl-index-entry-module-title"><a class="link" href="#d4e15" title="1.1.&nbsp;Invocation parameters and input file">Invocation parameters and input file</a></span> - <span class="xsl-index-entry-module-name"><a class="link" href="#d4e2" title="1.&nbsp; Convert a BPC skeleton XSLT stylesheet into one supporting code list data. - bpccodelists2xsl.xsl"><code class="literal">bpccodelists2xsl.xsl</code></a></span>)</span></li></ul></div><p><a name="index-F"></a><span class="bold xsl-index-letter-section">F</span></p><div class="itemizedlist"><ul type="disc" compact><li><span class="xsl-index-entry-link"><a class="link" href="#d4e268"><span class="xsl-index-top-level xsl-template"><span class="xsl-index-entry-name"><code class="literal">bpc:formatCustomizationInfo</code></span></span></a> (<span class="xsl-index-entry-module-title"><a class="link" href="#d4e213" title="1.3.&nbsp;Generic matching">Generic matching</a></span> - <span class="xsl-index-entry-module-name"><a class="link" href="#d4e2" title="1.&nbsp; Convert a BPC skeleton XSLT stylesheet into one supporting code list data. - bpccodelists2xsl.xsl"><code class="literal">bpccodelists2xsl.xsl</code></a></span>)</span></li><li><span class="xsl-index-entry-link"><a class="link" href="#d4e291"><span class="xsl-index-top-level xsl-function"><span class="xsl-index-entry-name"><code class="literal">bpc:formatCustomizationInfo<span class="emphasis"><em>(1)</em></span></code></span></span></a> (<span class="xsl-index-entry-module-title"><a class="link" href="#d4e213" title="1.3.&nbsp;Generic matching">Generic matching</a></span> - <span class="xsl-index-entry-module-name"><a class="link" href="#d4e2" title="1.&nbsp; Convert a BPC skeleton XSLT stylesheet into one supporting code list data. - bpccodelists2xsl.xsl"><code class="literal">bpccodelists2xsl.xsl</code></a></span>)</span></li></ul></div><p><a name="index-L"></a><span class="bold xsl-index-letter-section">L</span></p><div class="itemizedlist"><ul type="disc" compact><li><span class="xsl-index-entry-link"><a class="link" href="#d4e204"><span class="xsl-index-top-level xsl-function"><span class="xsl-index-entry-name"><code class="literal">bpc:listId<span class="emphasis"><em>(1)</em></span></code></span></span></a> (<span class="xsl-index-entry-module-title"><a class="link" href="#d4e64" title="1.2.&nbsp;Main logic">Main logic</a></span> - <span class="xsl-index-entry-module-name"><a class="link" href="#d4e2" title="1.&nbsp; Convert a BPC skeleton XSLT stylesheet into one supporting code list data. - bpccodelists2xsl.xsl"><code class="literal">bpccodelists2xsl.xsl</code></a></span>)</span></li><li><span class="xsl-index-entry-link"><a class="link" href="#d4e60"><span class="xsl-index-top-level xsl-variable"><span class="xsl-index-entry-name"><code class="literal">bpc:lists</code></span></span></a> (<span class="xsl-index-entry-module-title"><a class="link" href="#d4e15" title="1.1.&nbsp;Invocation parameters and input file">Invocation parameters and input file</a></span> - <span class="xsl-index-entry-module-name"><a class="link" href="#d4e2" title="1.&nbsp; Convert a BPC skeleton XSLT stylesheet into one supporting code list data. - bpccodelists2xsl.xsl"><code class="literal">bpccodelists2xsl.xsl</code></a></span>)</span></li></ul></div></div></div></body></html>